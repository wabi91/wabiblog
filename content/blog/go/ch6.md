---
title: "golang. 연산자"
date: 2021-05-08 22:17:22
category: go
thumbnail: { thumbnailSrc }
draft: false
---

## 산술 연산자

> 사칙연산과 나머지, 비트 연산, 시프트 연산으로 이루어져 있다.

|구분|연산|
|---|---|
|사칙연산과 나머지|+, -, *, /, %|
|비트 연산|&, |, ^, &^|
|시프트 연산|<<, >>|

### 결과 타입 예시

> GO 에서는 모든 연산자의 각 항의 타입은 항상 같아야한다.

```go
package main
import "fmt"

func main() {
  var x int32 = 7
  var y int32 = 3

  var s float32 = 3.14
  var t float32 = 5

  fmt.Println("x + y =", x + y)
  fmt.Println("x - y =", x - y)
  fmt.Println("x * y =", x * y)
  fmt.Println("x / y =", x / y)
  fmt.Println("x % y =", x % y)

  fmt.Println("s * t =", s * t)
  fmt.Println("s / t =", s / t)
}

// x + y = 10
// x - y = 4
// x * y = 21
// x / y = 2
// x % y = 1

// s * t = 15.700001
// s / t = 0.628
```

## 비교 연산자

|연산자|설명|
|---|---|
|==|같다|
|!=|다르다|
|<|작다|
|>|크다|
|<=|작거나 같다|
|>=|크거나 같다|

### 정수 오버플로 / 언더플로

```go
var x int8 = 127
x + 1 == -128 // true

var y int8 = -128
y - 1 == 127 // true
```
int8 타입은 -128 ~ 127 값으로 정수 타입의 범위를 벗어난 경우 값이 비정상적으로 변화 하는 경우로 오버플로와 언더플로가 있다.

> 위 같은 오버플로/언더플로 때문에 타입의 경계값을 주의해서 연산해야 한다.

## float 연산 비교

```go
package main
import "fmt"

func main() {
  var a float64 = 0.1
  var b float64 = 0.2
  var c float64 = 0.3

  fmt.Println("%f + %f == %f : %v\n", a, b, c, a + b == c)
  // 0.100000 + 0.200000 = 0.300000 : false
  fmt.Println(a + b)
  // 0.30000000000000004
}
```

> float64 표현 방식으로 생긴 오차(= 실수 오차)로 위 처럼 결과값이 나온다.

### 실수 오차
컴퓨터에서는 실수값을 정확하게 2진수 체계로 표현할 수가 없어서 실수 오차가 발생한다.

### 작은 오차 무시하기

실수 오차 때문에 정확히 표현할 수 없는 실숫값은 아주 작은 오차를 무시하도록 하는 방법으로 값을 비교해야한다.

방법 1. 0.000001 같은 아주 작은 값을 변수로 두고 해당 변수보다 오차가 크고 작음을 체크해서 작은 오차는 무시한체로 비교한다.
방법 2. 1비트 차이만큰 비교를 하는 방법으로 실수표현의 지수부와 소수부 중 지수부 표현에서 가장 작은 차이 확인을 위해 가장 오른쪽 비트값 하나만큼 비교한다. (Go에서 `math.Nextafter` 함수를 제공한다.)
방법 3. `math/big`의 `big.Float` 함수 사용으로 정밀도를 직접 조정해서 더 정확한 수치 계산이 가능하다.

## 논리 연산자

|연산자|뜻|
|---|---|
|&&|AND|
|\|\||OR|
|!|NOT|

## 대입 연산자
= 대입 연산자는 우변값을 좌변(메모리 공간)에 복사한다. 따라서 좌변에는 반드시 저장할 공간이 있는 변수가 있어야 한다.

```go
var a int = 10
var b int = 2
c = a + b
```

### 복수 대입 연산자
여러 값을 한번에 대입하기위해 좌변과 우변의 개수를 맞춰준다.

```go
a, b, c = 1, 2, 4
```

### 복합 대입 연산자

`a = a + 2`와 `a += 2` 는 같다. += 를 복합 대입 연산자라고 부르고 대입 연산자 앞에 다른 산술 연산자를 붙여서 쓰는 것을 말한다.

> 모든 산술 연산자는 전부 복합 대입 연산자로 사용이 가능하다.</br>+=, -=, *=, /=, %=, &=, |=, ^=, <<=, >>=

### 증감 연산자

++: 정수 타입 변수 뒤에 붙여쓰고, 해당 변숫값을 1 증가한다.</br>
--: 정수 타입 변수 뒤에 붙여쓰고, 해당 변숫값을 1 감소한다.

> Go에서는 전위 증감 연산자를 지원하지 않는다.</br>
`--a`는 오류 `a--`로 써야 동작

### 그외 연산자

|연산자|설명|
|---|---|
|[]|배열의 요소에 접근할 때 사용한다.|
|.|구조체나 패키지 요소에 접근할 때 사용한다.|
|&|변수의 메모리 주솟값을 반환한다.|
|*|포인터 변수가 가리키는 메모리 주소에 접근한다.|
|...|슬라이스 요소들에 접근하거나 가변 인수를 만들 때 사용한다.|
|:|배열의 일부분을 집어올 때 사용한다.|
|<-|채널에서 값을 빼거나 넣을 때 사용한다.|

## 연산자 우선순위
> 우선순위가 같을 경우 좌측부터 우측으로 연산된다.

|우선순위|연산자|
|---|---|
|1|* / % << >> & &^|
|2|+ - \| ^|
|3|== != < <= > =>|
|4|&&|
|5|\|\||
</br>
</br>


--------

출처: [『Tucker의 Go 언어 프로그래밍』](http://www.yes24.com/Product/Goods/99108736)</br>
저자: [YouTube, Tucker Programming](https://www.youtube.com/channel/UCZp_ftx6UB_32VfVmlS3o_A)